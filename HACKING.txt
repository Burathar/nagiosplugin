Development
===========

Getting the source
------------------

The source can be obtained via mercurial from
https://bitbucket.org/flyingcircus/nagiosplugin::

   hg clone https://bitbucket.org/flyingcircus/nagiosplugin

This package supports installation in a virtualenv::

   python3 -m venv .
   bin/pip install -e .


Tests
-----

To run tests, you have to install test dependencies first::

   bin/pip install -e '.[test]'

After doing so, run the unit tests::

   bin/py.test

Our `build server`_ runs test against the trunk on a regular basis.

.. image:: https://builds.flyingcircus.io/job/nagiosplugin/PYTHON=System-CPython-2.7/badge/icon
   :target: https://builds.flyingcircus.io/job/nagiosplugin/
.. _build server: https://builds.flyingcircus.io/job/nagiosplugin/

nagiosplugin also includes support for test coverage reports. Coverage reports
are updated automatically by py.test. Open :file:`htmlcov/index.html` to see
coverage reports.

You may run the supplied examples with the local interpreter::

   bin/python3 src/nagiosplugin/examples/check_load.py


Documentation
-------------

The documentation uses Sphinx. Build the documentation (buildout should have
been running before to install Sphinx etc.)::

   make -C doc html


How to release
--------------

To make a release, we prefer `zest.releaser`_. To make a release, follow
the standard procedure, which usually boils down to::

   fullrelease

`nagiosplugin` tried to obey the semantic version numbering specification
published on SemVer_ but adapts it a little bit to be `PEP 386`_ compliant.

.. _zest.releaser: https://pypi.python.org/pypi/zest.releaser/
.. _SemVer: http://semver.org/
.. _PEP 386: https://www.python.org/dev/peps/pep-0386/

.. vim: set ft=rst sw=3 sts=3 et:
